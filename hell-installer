#!/usr/bin/env zsh

.hell_source_map
. hell-installer
__HELLSCRIPTS_INJECT_FUNS && __HELLSCRIPTS_INJECT_LOGGER

# * ... [Submodules injects]
HelLogger "Injecting submodules"
set -a

HelLogger "Injecting .hell_zshenv..." &&
. .hell_zshenv

HelLogger "Injecting .describe_hell_zsheffects..." &&
. .describe_hell_zsheffects

HelLogger "Injecting .inject_hell_zsheffects..." &&
. .inject_hell_zsheffects

set +a
HelLogger "Injecting .hell_gayzsh..." &&
. .hell_gayzsh

HelLogger "Injecting .hell_postinstaller..." &&
. .hell_postinstaller

HelLogger "Injecting .hell_zsh_aliases..." &&
. .hell_zsh_aliases

if ! $__HELLSCRIPTS_ATTR[ENABLE_HELLSCRIPTS_LOGGER_PROPAGATION]
then
	HelLogger "Injecting .inject_hell_phony_logger..." &&
	.inject_hell_phony_logger
fi

cd $__HELL_OLDPWD
unset __HELL_OLDPWD

if $__HELLSCRIPTS_ATTR[ENABLE_QUICKCLEAR_ON_SHELL_POP]
then
	reset || clear
fi

echo "HellScripts startup logs available at -> $__HELLSCRIPTS_ATTR[LOGFILE]"
echo -e "(Type '__DISPLAY_HELLSCRIPTS_LOGS' if you're a lazybones)\n"

function __DISPLAY_HELLSCRIPTS_LOGS {
	cat $__HELLSCRIPTS_ATTR[LOGFILE]
}
